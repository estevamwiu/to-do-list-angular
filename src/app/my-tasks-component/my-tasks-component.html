<div class="container mt-6 has-text-centered" style="margin-top: 120px;">
  
  <h1 class="title is-1" style="font-size: 3.8rem;">Just do it.</h1> 

  <form [formGroup]="formGroupTasks" (ngSubmit)="isEditing ? update() : save()" class="mb-5">
    <div class="field has-addons is-justify-content-center">
      <div class="control is-expanded">
        <input
          formControlName="title" type="text" class="input is-primary" id="inputTitle" 
          [placeholder]="isEditing ? 'Edite sua tarefa' : 'Adicione sua tarefa'" 
          style="height: 3rem; font-size: 1.0rem;"/>
      </div>
      <div class="control" *ngIf="isEditing">
        <button class="button is-light" type="button" (click)="cancelEdit()" style="height: 3rem; font-size: 1.1rem;">
          Cancelar
        </button>
      </div>
    </div>
  </form>

  <div class="clock" style="margin-top: -10px;">
    {{ currentTime }}
  </div>

  <div *ngIf="task.length > 0; else noTasks">
    <ul>
      <li *ngFor="let t of task" class="box has-background-light mb-2" style="margin-top: 10px;">
        {{ t.title }}
        
        <div *ngIf="!isEditing" class="buttons are-small" style="display: inline; margin-left: 10px;">
          <button class="delete-button" aria-label="Excluir tarefa" (click)="delete(t)"><svg viewBox="0 0 24 24" width="16" height="16"><path d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7a1 1 0 0 0-1.41 1.41L10.59 12l-4.89 4.89a1 1 0 1 0 1.41 1.41L12 13.41l4.89 4.89a1 1 0 0 0 1.41-1.41L13.41 12l4.89-4.89a1 1 0 0 0 0-1.4z"/></svg>
          </button>

          <button class="edit is-medium" aria-label="Editar tarefa" (click)="OnClickUpdate(t)">
            <svg viewBox="0 0 24 24" width="16" height="16"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1.003 1.003 0 0 0 0-1.42l-2.34-2.34a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.82z"/></svg>
          </button>
        </div>

        <button *ngIf="isEditing && formGroupTasks.get('id')?.value === t.id" class="button is-success is-small" (click)="update()"style="margin-left: 10px;"><svg viewBox="0 0 24 24" width="14" height="14" style="margin-right: 5px;"><path fill="white" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/></svg>
          Salvar
        </button>
      </li>
    </ul>
  </div>

  <ng-template #noTasks>
    <p class="has-text-centered has-text-grey" style="margin-top: 10px;">Nenhuma tarefa adicionada ainda.</p>
  </ng-template>
</div>
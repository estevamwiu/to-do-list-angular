<div class="container mt-6 has-text-centered" style="margin-top: 120px;">

  <h1 class="title is-1" style="font-size: 3.8rem;">Just do it.</h1>

  <form [formGroup]="formGroupTasks" (ngSubmit)="isEditing ? update() : save()" class="mb-5">
    <div class="field has-addons is-justify-content-center">
      <div class="control is-expanded">
        <input formControlName="title" type="text" class="input is-primary" id="inputTitle"
          [placeholder]="isEditing ? 'Edite sua tarefa' : 'Adicione sua tarefa'"
          style="height: 3rem; font-size: 1.0rem;" />
      </div>
      <div class="control">
        <button class="button is-primary" type="submit" style="height: 3rem; font-size: 1.1rem;">
          {{ isEditing ? 'Salvar' : 'Adicionar' }}
        </button>
      </div>
      <div class="control" *ngIf="isEditing">
        <button class="button is-light" type="button" (click)="cancelEdit()" style="height: 3rem; font-size: 1.1rem;">
          Cancelar
        </button>
      </div>
    </div>
  </form>

  <div class="clock" style="margin-top: -10px;">
    {{ currentTime }}
  </div>

  <div *ngIf="task.length > 0; else noTasks">
    <ul>
      <li *ngFor="let t of task" class="box has-background-light mb-2"
        style="margin-top: 10px; display: flex; justify-content: space-between; align-items: center; padding: 15px 20px;">

        <span class="task-text" style="flex-grow: 1; margin-right: 20px; text-align: left; font-size: 1.1rem;">
          {{ t.title }}
        </span>

        <div class="buttons are-small" style="display: flex; gap: 10px; flex-shrink: 0;">
          <button class="button is-success" (click)="markAsCompleted(t)" title="Marcar como concluída"
            style="min-width: 90px;">
            ✓ Concluir
          </button>

          <button class="button is-warning" aria-label="Editar tarefa" (click)="OnClickUpdate(t)"
            style="min-width: 80px;">
            ✏️ Editar
          </button>

          <button class="button is-danger" aria-label="Excluir tarefa" (click)="delete(t)" style="min-width: 80px;">
            🗑️ Excluir
          </button>
        </div>
      </li>
    </ul>
  </div>

  <ng-template #noTasks>
    <p class="has-text-centered has-text-grey" style="margin-top: 10px;">
      Nenhuma tarefa adicionada ainda.
    </p>
  </ng-template>
</div>